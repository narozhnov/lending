{"version":3,"sources":["components/Image.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;;;;;;;;;;;;IAkBM,gBAbL,iCAAkB;AACjB,WAAS,UAAT;AACA,cAAY;AACV,cAAU,MAAV;AACA,eAAW,WAAX;AACA,aAAS,QAAT;AACA,WAAO,EAAP;AACA,cAAU,MAAV;AACA,YAAQ,EAAR;AACA,WAAO,EAAP;AACA,cAAU,QAAV;GARF;CAFD;YAaK;;;;;;;;;;;;;mMAgBJ,SAAS,MAAK,SAAL;;;eAhBL;;sCAkBe;mBACmB,KAAK,KAAL,CADnB;UACT,iCADS;UACI,+BADJ;;AAEjB,UAAM,cAAc,YAAY,aAAZ,CAAd,CAFW;;AAIjB,UAAM,QAAQ,mBAAM,CAAC,SAAS,YAAY,OAAZ,CAAT,CAAD,EAAiC,SAAS,WAAT,CAAjC,CAAN,CAAR,CAJW;;AAMjB,UAAM,eAAe,WAAW,OAAX,CAAf,CANW;AAOjB,UAAM,cAAc,WAAW,MAAX,CAAd,CAPW;AAQjB,UAAM,gBAAgB,cAAc,YAAd,GAA6B,KAA7B,GAAqC,SAAS,WAAT,CAArC,CARL;;AAUjB,aAAO,gBAAgB,CAAhB,GAAoB,QAAQ,aAAR,GAAwB,KAA5C,CAVU;;;;gCAaN;UACH,cAAgB,KAAK,KAAL,CAAhB,YADG;;;AAGX,aAAO,qBAAQ,EAAR,EAAY,KAAK,WAAL,CAAiB,UAAjB,EAA6B;AAC9C,YAAI;AACF,iBAAO,KAAK,eAAL,EAAP;SADF;AAGA,aAAK;AACH,kBAAQ,YAAY,QAAZ,CAAR;AACA,kBAAQ,YAAY,QAAZ,CAAR;SAFF;OAJK,CAAP,CAHW;;;;kCAcE;UACL,cAAgB,KAAK,KAAL,CAAhB,YADK;;;AAGb,UAAM,MACJ;AACE,aAAK,YAAY,KAAZ,CAAL;AACA,gBAAO,GAAP;AACA,aAAK,YAAY,KAAZ,CAAL;AACA,eAAO,KAAK,MAAL,CAAY,GAAZ;AACP,eAAO,KAAK,eAAL,EAAP;AACA,gBAAQ,KAAK,MAAL,CAAY,GAAZ,CAAgB,MAAhB,EANV,CADI,CAHO;;AAab,UAAI,YAAY,MAAZ,KAAuB,EAAvB,EAA2B;AAC7B,eACE;;YAAG,MAAM,YAAY,MAAZ,CAAN,EAA2B,QAAQ,YAAY,QAAZ,CAAR,EAA9B;UACG,GADH;SADF,CAD6B;OAA/B,MAOK;AACH,eAAO,GAAP,CADG;OAPL;;;;6BAYQ;UACA,cAAgB,KAAK,KAAL,CAAhB,YADA;;;AAGR,aACE;;;AACE,uBAAY,GAAZ;AACA,uBAAY,GAAZ;AACA,+BAAmB,YAAY,OAAZ,CAAnB;AACA,gCAAmB,GAAnB;AACA,iBAAO,KAAK,MAAL,CAAY,KAAZ,EALT;QAME;;;UACE;;;YACE;;gBAAI,OAAO,KAAK,MAAL,CAAY,EAAZ,EAAX;cACG,KAAK,WAAL,EADH;aADF;WADF;SANF;OADF,CAHQ;;;;SAtEN;6BAEG,aAAa;AAClB,SAAO;AACL,oBAAgB,UAAhB;AACA,mBAAe,GAAf;GAFF;AAIA,OAAK;AACH,YAAQ,MAAR;AACA,aAAS,OAAT;AACA,aAAS,MAAT;AACA,oBAAgB,MAAhB;AACA,WAAO,MAAP;GALF;;kBAsFW","file":"components/Image.js","sourcesContent":["import _ from 'lodash'\nimport MJMLColumnElement from './decorators/MJMLColumnElement'\nimport React, { Component } from 'react'\n\n/**\n * Displays an image to your email. It is mostly similar to the HTML img tag\n */\n@MJMLColumnElement({\n  tagName: 'mj-image',\n  attributes: {\n    'height': 'auto',\n    'padding': '10px 25px',\n    'align': 'center',\n    'alt': '',\n    'border': 'none',\n    'href': '',\n    'src': '',\n    'target': '_blank'\n  }\n})\nclass Image extends Component {\n\n  static baseStyles = {\n    table: {\n      borderCollapse: 'collapse',\n      borderSpacing: '0'\n    },\n    img: {\n      border: 'none',\n      display: 'block',\n      outline: 'none',\n      textDecoration: 'none',\n      width: '100%'\n    }\n  }\n\n  styles = this.getStyles()\n\n  getContentWidth () {\n    const { mjAttribute, getPadding } = this.props\n    const parentWidth = mjAttribute('parentWidth')\n\n    const width = _.min([parseInt(mjAttribute('width')), parseInt(parentWidth)])\n\n    const paddingRight = getPadding('right')\n    const paddingLeft = getPadding('left')\n    const widthOverflow = paddingLeft + paddingRight + width - parseInt(parentWidth)\n\n    return widthOverflow > 0 ? width - widthOverflow : width\n  }\n\n  getStyles () {\n    const { mjAttribute } = this.props\n\n    return _.merge({}, this.constructor.baseStyles, {\n      td: {\n        width: this.getContentWidth()\n      },\n      img: {\n        border: mjAttribute('border'),\n        height: mjAttribute('height')\n      }\n    })\n  }\n\n  renderImage () {\n    const { mjAttribute } = this.props\n\n    const img = (\n      <img\n        alt={mjAttribute('alt')}\n        border=\"0\"\n        src={mjAttribute('src')}\n        style={this.styles.img}\n        width={this.getContentWidth()}\n        height={this.styles.img.height} />\n    )\n\n    if (mjAttribute('href') != '') {\n      return (\n        <a href={mjAttribute('href')} target={mjAttribute('target')}>\n          {img}\n        </a>\n      )\n    }\n    else {\n      return img\n    }\n  }\n\n  render () {\n    const { mjAttribute } = this.props\n\n    return (\n      <table\n        cellPadding=\"0\"\n        cellSpacing=\"0\"\n        data-legacy-align={mjAttribute('align')}\n        data-legacy-border=\"0\"\n        style={this.styles.table}>\n        <tbody>\n          <tr>\n            <td style={this.styles.td}>\n              {this.renderImage()}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    )\n  }\n\n}\n\nexport default Image\n"],"sourceRoot":"/source/"}